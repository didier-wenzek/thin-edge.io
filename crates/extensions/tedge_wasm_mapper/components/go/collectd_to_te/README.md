

Pre-requisites:

- `go` with `go tool`
- `tinygo`
- `cargo install wkg`


First compiles the `wit/tedge.wit` interface:

```
$ wkg wit build
```

This produce a `tedge:filter.wasm` file, which can then be processed
with [`wit-bindgen-go`](https://github.com/bytecodealliance/go-modules) to generate internal `go` bindings:

```
$ go tool wit-bindgen-go generate --world tedge --out internal tedge:filter.wasm
```

Among all the files generated by `wit-bindgen-go`, the file `internal/tedge/filter/tedge/tedge.exports.go`
contains the exported functions that need to be implemented in `main.go`.

The component can finally be compiled:

```
tinygo build -target=wasip2 -o collectd-to-te.wasm --wit-package tedge:filter.wasm --wit-world tedge main.go
``` 
